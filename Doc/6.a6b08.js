(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{1217:function(t,e,i){"use strict";i.d(e,"a",function(){return c});var n,a=i(1),r=i.n(a),s=i(740),o=i(602),h=i.n(o),l=i(1593),d=i.n(l),u=(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),c=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.ds=new h.a({state:{start:"2018-08-02",end:"2018-09-14"}}),n.onChange=function(t){var e=t.startText,i=t.endText;n.ds.setState("start",e),n.ds.setState("end",i)},n}return u(e,t),e.prototype.render=function(){var i=this,t=(h.a.DataView,this.props.data),e=this.ds.createView();return e.source(t).transform({type:"filter",callback:function(t){var e=t.time;return e<=i.ds.state.end&&e>=i.ds.state.start}}).transform({type:"map",callback:function(t){return t.trend=t.start<=t.end?"上涨":"下跌",t.range=[t.start,t.end,t.max,t.min],t}}),r.a.createElement("div",null,r.a.createElement(s.Chart,{height:600,animate:!1,padding:[10,40,40,40],data:e,scale:{time:{type:"timeCat",nice:!1,range:[0,1]},trend:{values:["上涨","下跌"]},volume:{alias:"成交量"},start:{alias:"开盘价"},end:{alias:"收盘价"},max:{alias:"最高价"},min:{alias:"最低价"},range:{alias:"股票价格"}},forceFit:!0},r.a.createElement(s.Legend,null),r.a.createElement(s.Tooltip,{showTitle:!1,itemTpl:'<li data-index={index}><span style="background-color:{color};"\n              class="g2-tooltip-marker"></span>{name}{value}</li>'}),r.a.createElement(s.View,{end:{x:1,y:.5},data:e},r.a.createElement(s.Axis,{name:"time"}),r.a.createElement(s.Axis,{name:"range"}),r.a.createElement(s.Geom,{type:"schema",position:"time*range",color:["trend",function(t){return"上涨"===t?"#f04864":"下跌"===t?"#2fc25b":"#ffffff"}],tooltip:["time*start*end*max*min",function(t,e,i,n,a){return{name:t,value:'<br><span style="padding-left: 16px">开盘价：'+e+'</span><br/><span style="padding-left: 16px">收盘价：'+i+'</span><br/><span style="padding-left: 16px">最高价：'+n+'</span><br/><span style="padding-left: 16px">最低价：'+a+"</span>"}}],shape:"candle"})),r.a.createElement(s.View,{start:{x:0,y:.65},data:e,scale:{volume:{tickCount:2}}},r.a.createElement(s.Axis,{name:"volume",label:{formatter:function(t){return parseInt(t,10)/1e3+"k"}}}),r.a.createElement(s.Axis,{name:"time",tickLine:null,label:null}),r.a.createElement(s.Geom,{type:"interval",position:"time*volume",color:["trend",function(t){return"上涨"===t?"#f04864":"下跌"===t?"#2fc25b":"#ffffff"}],tooltip:["time*volume",function(t,e){return{name:t,value:'<br/><span style="padding-left: 16px">成交量：'+e+"</span><br/>"}}],shape:"candle"}))),r.a.createElement("div",null,r.a.createElement(d.a,{padding:[20,40,20,40],width:"auto",height:26,start:this.ds.state.start,end:this.ds.state.end,xAxis:"time",yAxis:"volume",scales:{time:{type:"timeCat",nice:!1}},data:t,onChange:this.onChange})))},e}(r.a.Component)},1593:function(t,e,i){"use strict";var n=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}return t},a=function(){function n(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(t,e,i){return e&&n(t.prototype,e),i&&n(t,i),t}}(),r=h(i(1594)),s=i(1),o=h(s);function h(t){return t&&t.__esModule?t:{default:t}}function l(t,e){var i={};for(var n in t)0<=e.indexOf(n)||Object.prototype.hasOwnProperty.call(t,n)&&(i[n]=t[n]);return i}var d=["width","height","padding","xAis","yAxis","start","end","fillerStyle","backgroundStyle","scales","textStyle","handleStyle","backgroundChart"];var u=function(t){function i(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i);var e=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(i.__proto__||Object.getPrototypeOf(i)).call(this));return e.refHandle=function(t){e.container||(e.container=t)},e.reBuild=!1,e}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(i,s.Component),a(i,[{key:"componentDidMount",value:function(){this.createG2Instance().render()}},{key:"componentWillReceiveProps",value:function(t){var e=this.props,i=e.data,n=l(e,["data"]),a=t.data,r=l(t,["data"]);i!==a&&(this.slider.changeData(a),this.slider.repaint()),function(t,e){if(t.onChange!==e.onChange)return!0;for(var i=0;i<d.length;i+=1){var n=d[i];if(!window.G2.Util.isEqual(t[n],e[n]))return!0}return!1}(n,r)&&(this.reBuild=!0)}},{key:"componentDidUpdate",value:function(){this.reBuild&&(this.slider.destroy(),this.createG2Instance().render(),this.reBuild=!1)}},{key:"componentWillUnmount",value:function(){this.slider.destroy()}},{key:"createG2Instance",value:function(){return this.slider=new r.default(n({container:this.container},this.props)),this.slider}},{key:"render",value:function(){return o.default.createElement("div",{ref:this.refHandle})}}]),i}();e.default=u,t.exports=e.default},1594:function(t,e,i){var n=i(1595);window&&!window.G2&&console.err("Please load the G2 script first!"),t.exports=n},1595:function(t,e,i){var n=window&&window.G2,d=n.Chart,u=n.Util,a=n.G,r=n.Global,s=a.Canvas,o=a.DomUtil,h=i(1596),l=function(){function t(t){this._initProps(),u.deepMix(this,t);var e=this.container;if(!e)throw new Error("Please specify the container for the Slider!");u.isString(e)?this.domContainer=document.getElementById(e):this.domContainer=e,this.handleStyle=u.mix({width:this.height,height:this.height},this.handleStyle),"auto"===this.width&&window.addEventListener("resize",u.wrapBehavior(this,"_initForceFitEvent"))}return t.prototype._initProps=function(){this.height=26,this.width="auto",this.padding=r.plotCfg.padding,this.container=null,this.xAxis=null,this.yAxis=null,this.fillerStyle={fill:"#BDCCED",fillOpacity:.3},this.backgroundStyle={stroke:"#CCD6EC",fill:"#CCD6EC",fillOpacity:.3,lineWidth:1},this.range=[0,100],this.layout="horizontal",this.textStyle={fill:"#545454"},this.handleStyle={img:"https://gw.alipayobjects.com/zos/rmsportal/QXtfhORGlDuRvLXFzpsQ.png",width:5},this.backgroundChart={type:["area"],color:"#CCD6EC"}},t.prototype._initForceFitEvent=function(){var t=setTimeout(u.wrapBehavior(this,"forceFit"),200);clearTimeout(this.resizeTimer),this.resizeTimer=t},t.prototype.forceFit=function(){if(this&&!this.destroyed){var t=o.getWidth(this.domContainer),e=this.height;if(t!==this.domWidth){var i=this.canvas;i.changeSize(t,e),this.bgChart&&this.bgChart.changeWidth(t),i.clear(),this._initWidth(),this._initSlider(),this._bindEvent(),i.draw()}}},t.prototype._initWidth=function(){var t;t="auto"===this.width?o.getWidth(this.domContainer):this.width,this.domWidth=t;var e=u.toAllPadding(this.padding);"horizontal"===this.layout?(this.plotWidth=t-e[1]-e[3],this.plotPadding=e[3],this.plotHeight=this.height):"vertical"===this.layout&&(this.plotWidth=this.width,this.plotHeight=this.height-e[0]-e[2],this.plotPadding=e[0])},t.prototype.render=function(){this._initWidth(),this._initCanvas(),this._initBackground(),this._initSlider(),this._bindEvent(),this.canvas.draw()},t.prototype.changeData=function(t){this.data=t,this.repaint()},t.prototype.destroy=function(){clearTimeout(this.resizeTimer),this.rangeElement.off("sliderchange"),this.bgChart&&this.bgChart.destroy(),this.canvas.destroy();for(var t=this.domContainer;t.hasChildNodes();)t.removeChild(t.firstChild);window.removeEventListener("resize",u.getWrapBehavior(this,"_initForceFitEvent")),this.destroyed=!0},t.prototype.clear=function(){this.canvas.clear(),this.bgChart&&this.bgChart.destroy(),this.bgChart=null,this.scale=null,this.canvas.draw()},t.prototype.repaint=function(){this.clear(),this.render()},t.prototype._initCanvas=function(){var t=this.domWidth,e=this.height,i=new s({width:t,height:e,containerDOM:this.domContainer,capture:!1}),n=i.get("el");n.style.position="absolute",n.style.top=0,n.style.left=0,n.style.zIndex=3,this.canvas=i},t.prototype._initBackground=function(){var t,e=this.data,i=this.xAxis,n=this.yAxis,a=u.deepMix(((t={})[""+i]={range:[0,1]},t),this.scales);if(!e)throw new Error("Please specify the data!");if(!i)throw new Error("Please specify the xAxis!");if(!n)throw new Error("Please specify the yAxis!");var r=this.backgroundChart,s=r.type,o=r.color;u.isArray(s)||(s=[s]);var h=u.toAllPadding(this.padding),l=new d({container:this.container,width:this.domWidth,height:this.height,padding:[0,h[1],0,h[3]],animate:!1});l.source(e),l.scale(a),l.axis(!1),l.tooltip(!1),l.legend(!1),u.each(s,function(t){l[t]().position(i+"*"+n).color(o).opacity(1)}),l.render(),this.bgChart=l,this.scale="horizontal"===this.layout?l.getXScale():l.getYScales()[0],"vertical"===this.layout&&l.destroy()},t.prototype._initRange=function(){var t=this.start,e=this.end,i=this.scale,n=0,a=1;t&&(n=i.scale(i.translate(t))),e&&(a=i.scale(i.translate(e)));var r=this.minSpan,s=this.maxSpan,o=0;if("time"===i.type||"timeCat"===i.type){var h=i.values,l=h[0];o=h[h.length-1]-l}else i.isLinear&&(o=i.max-i.min);o&&r&&(this.minRange=r/o*100),o&&s&&(this.maxRange=s/o*100);var d=[100*n,100*a];return this.range=d},t.prototype._getHandleValue=function(t){var e=this.range,i=e[0]/100,n=e[1]/100,a=this.scale;return"min"===t?this.start?this.start:a.invert(i):this.end?this.end:a.invert(n)},t.prototype._initSlider=function(){var t=this.canvas,e=this._initRange(),i=this.scale,n=t.addGroup(h,{middleAttr:this.fillerStyle,range:e,minRange:this.minRange,maxRange:this.maxRange,layout:this.layout,width:this.plotWidth,height:this.plotHeight,backgroundStyle:this.backgroundStyle,textStyle:this.textStyle,handleStyle:this.handleStyle,minText:i.getText(this._getHandleValue("min")),maxText:i.getText(this._getHandleValue("max"))});"horizontal"===this.layout?n.translate(this.plotPadding,0):"vertical"===this.layout&&n.translate(0,this.plotPadding),this.rangeElement=n},t.prototype._bindEvent=function(){var a=this;a.rangeElement.on("sliderchange",function(t){var e=t.range,i=e[0]/100,n=e[1]/100;a._updateElement(i,n)})},t.prototype._updateElement=function(t,e){var i=this.scale,n=this.rangeElement,a=n.get("minTextElement"),r=n.get("maxTextElement"),s=i.invert(t),o=i.invert(e),h=i.getText(s),l=i.getText(o);a.attr("text",h),r.attr("text",l),this.start=h,this.end=l,this.onChange&&this.onChange({startText:h,endText:l,startValue:s,endValue:o})},t}();t.exports=l},1596:function(t,e){var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),a=window&&window.G2,p=a.Util,r=a.G,s=r.Group,o=r.DomUtil,h=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.getDefaultCfg=function(){return{range:null,middleAttr:null,backgroundElement:null,minHandleElement:null,maxHandleElement:null,middleHandleElement:null,currentTarget:null,layout:"vertical",width:null,height:null,pageX:null,pageY:null}},e.prototype._initHandle=function(t){var e,i,n,a=this.addGroup(),r=this.get("layout"),s=this.get("handleStyle"),o=s.img,h=s.width,l=s.height;if("horizontal"===r){var d=s.width;n="ew-resize",i=a.addShape("Image",{attrs:{x:-d/2,y:0,width:d,height:l,img:o,cursor:n}}),e=a.addShape("Text",{attrs:p.mix({x:"min"===t?-(d/2+5):d/2+5,y:l/2,textAlign:"min"===t?"end":"start",textBaseline:"middle",text:"min"===t?this.get("minText"):this.get("maxText"),cursor:n},this.get("textStyle"))})}else n="ns-resize",i=a.addShape("Image",{attrs:{x:0,y:-l/2,width:h,height:l,img:o,cursor:n}}),e=a.addShape("Text",{attrs:p.mix({x:h/2,y:"min"===t?l/2+5:-(l/2+5),textAlign:"center",textBaseline:"middle",text:"min"===t?this.get("minText"):this.get("maxText"),cursor:n},this.get("textStyle"))});return this.set(t+"TextElement",e),this.set(t+"IconElement",i),a},e.prototype._initSliderBackground=function(){var t=this.addGroup();return t.initTransform(),t.translate(0,0),t.addShape("Rect",{attrs:p.mix({x:0,y:0,width:this.get("width"),height:this.get("height")},this.get("backgroundStyle"))}),t},e.prototype._beforeRenderUI=function(){var t=this._initSliderBackground(),e=this._initHandle("min"),i=this._initHandle("max"),n=this.addShape("rect",{attrs:this.get("middleAttr")});this.set("middleHandleElement",n),this.set("minHandleElement",e),this.set("maxHandleElement",i),this.set("backgroundElement",t),t.set("zIndex",0),n.set("zIndex",1),e.set("zIndex",2),i.set("zIndex",2),n.attr("cursor","move"),this.sort()},e.prototype._renderUI=function(){"horizontal"===this.get("layout")?this._renderHorizontal():this._renderVertical()},e.prototype._transform=function(t){var e=this.get("range"),i=e[0]/100,n=e[1]/100,a=this.get("width"),r=this.get("height"),s=this.get("minHandleElement"),o=this.get("maxHandleElement"),h=this.get("middleHandleElement");s.resetMatrix?(s.resetMatrix(),o.resetMatrix()):(s.initTransform(),o.initTransform()),"horizontal"===t?(h.attr({x:a*i,y:0,width:(n-i)*a,height:r}),s.translate(i*a,0),o.translate(n*a,0)):(h.attr({x:0,y:r*(1-n),width:a,height:(n-i)*r}),s.translate(0,(1-i)*r),o.translate(0,(1-n)*r))},e.prototype._renderHorizontal=function(){this._transform("horizontal")},e.prototype._renderVertical=function(){this._transform("vertical")},e.prototype._bindUI=function(){this.on("mousedown",p.wrapBehavior(this,"_onMouseDown"))},e.prototype._isElement=function(t,e){var i=this.get(e);return t===i||!!i.isGroup&&-1<i.get("children").indexOf(t)},e.prototype._getRange=function(t,e){var i=t+e;return i=(i=100<i?100:i)<0?0:i},e.prototype._limitRange=function(t,e,i){i[0]=this._getRange(t,i[0]),i[1]=i[0]+e,100<i[1]&&(i[1]=100,i[0]=i[1]-e)},e.prototype._updateStatus=function(t,e){var i="x"===t?this.get("width"):this.get("height");t=p.upperFirst(t);var n,a=this.get("range"),r=this.get("page"+t),s=this.get("currentTarget"),o=this.get("rangeStash"),h="vertical"===this.get("layout")?-1:1,l=e["page"+t],d=(l-r)/i*100*h,u=this.get("minRange"),c=this.get("maxRange");a[1]<=a[0]?(this._isElement(s,"minHandleElement")||this._isElement(s,"maxHandleElement"))&&(a[0]=this._getRange(d,a[0]),a[1]=this._getRange(d,a[0])):(this._isElement(s,"minHandleElement")&&(a[0]=this._getRange(d,a[0]),u&&a[1]-a[0]<=u&&this._limitRange(d,u,a),c&&a[1]-a[0]>=c&&this._limitRange(d,c,a)),this._isElement(s,"maxHandleElement")&&(a[1]=this._getRange(d,a[1]),u&&a[1]-a[0]<=u&&this._limitRange(d,u,a),c&&a[1]-a[0]>=c&&this._limitRange(d,c,a))),this._isElement(s,"middleHandleElement")&&(n=o[1]-o[0],this._limitRange(d,n,a)),this.emit("sliderchange",{range:a}),this.set("page"+t,l),this._renderUI(),this.get("canvas").draw()},e.prototype._onMouseDown=function(t){var e=t.currentTarget,i=t.event,n=this.get("range");i.stopPropagation(),i.preventDefault(),this.set("pageX",i.pageX),this.set("pageY",i.pageY),this.set("currentTarget",e),this.set("rangeStash",[n[0],n[1]]),this._bindCanvasEvents()},e.prototype._bindCanvasEvents=function(){var t=this.get("canvas").get("containerDOM");this.onMouseMoveListener=o.addEventListener(t,"mousemove",p.wrapBehavior(this,"_onCanvasMouseMove")),this.onMouseUpListener=o.addEventListener(t,"mouseup",p.wrapBehavior(this,"_onCanvasMouseUp")),this.onMouseLeaveListener=o.addEventListener(t,"mouseleave",p.wrapBehavior(this,"_onCanvasMouseUp"))},e.prototype._onCanvasMouseMove=function(t){"horizontal"===this.get("layout")?this._updateStatus("x",t):this._updateStatus("y",t)},e.prototype._onCanvasMouseUp=function(){this._removeDocumentEvents()},e.prototype._removeDocumentEvents=function(){this.onMouseMoveListener.remove(),this.onMouseUpListener.remove(),this.onMouseLeaveListener.remove()},e}(s);t.exports=h},552:function(t,e,i){"use strict";i(33),i(603)},553:function(t,e,i){"use strict";i(33),i(603)}}]);