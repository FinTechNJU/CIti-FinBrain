# 总体方案

## 页面展示数据大致如下：
---

|方案编号（或名称）|方案确认时间|总资产（元）|总收益率|预期收益率|最大回撤|
|-|-|-|-|-|-|
|例如：1|2018/8/15|1000000|6.4%|7.14%|-3.11%|

>查看方案应包括历史方案的情况；
数据计算方法如下：
1.总收益率为方案自确认以来的收益率，即（当前资产-初始资产）/初始资产
2.预期收益由配置的3种资产（股票，债券，商品期货）的预期收益率加权求和得到；
3.最大回撤，指从确认方案开始，方案回撤的最大值（回撤是衡量风险的标准，等于一段时间内（最低资产/初始资产-1））
以上数据可参考下面的图表

---
>查看某一方案
### 组合表现：
>由收益走势图，走势图历史数据，和收益风险指标3部分组成

走势图：从方案确认开始，横坐标为时间，纵坐标为历史收益率的折线图
可加入沪深300的收益率走势作为比较基准

历史收益率：（展示表格）

|时间|总资产（元）|当日收益率|总收益率|
|-|-|-|-|
||

>时间以天计即可（如果精确到秒，总收益率的最小值（负数）就是最大回撤）

收益风险指标：

||确认以来|近一周|近一月|近一季度|近半年|近一年|
|-|-|-|-|-|-|-|
|年化收益率|
|年化波动率|
|最大回撤|
|Sharpe比率|
|Beta|

>年化收益率，年化波动率，最大回撤为百分数，Sharpe Beta为float
指标计算方法如下：

```Python
#以某一段时间为例，p为这段时间每天的最终资产列表，
#r为这段时间的日收益率列表，x为这段时间沪深300的收益率列表，
#这段时间一共有t个交易日，Rf为无风险利率,exp_r为预期收益率
import numpy as np
import math
npr = np.array(r)
y1=(1+（p[-1]-p[0])/p[0])**(365/t)-1 #年化收益率
y2=npr.std()*math.sqrt(250) #年化波动率 日频波动率*sqrt(250)
y3=(min(p) - p[0])/p[0] #最大回撤
y4=(exp_r-Rf)/npr.std() #Sharpe比率
from sklearn.linear_model import LinearRegression
model = LinearRegression().fit(npr,np.array(x))
beta = model.coef_ #回归得到Beta
```

---
### 组合信息：

如下表格：

|名称|持仓量|价格|持仓市值|当日收益率|总收益率|
|-|-|-|-|-|-|
|股票1|
|股票2|
|债券1|
|商品1|
|...|

需要股票，债券和商品的链接，即查看方案中某一种具体资产的信息

饼状图：3类资产及资金配比

---
